{% extends 'base.html' %}

{% block title %}Purchase Confirmation{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
  <div class="max-w-2xl mx-auto bg-white rounded-lg shadow-md overflow-hidden">
    <div class="bg-green-500 py-4 px-6">
      <h2 class="text-2xl font-bold text-white">Purchase Confirmation</h2>
    </div>

    <div class="p-6">
      <div class="flex items-center justify-center mb-6">
        <div class="bg-green-100 rounded-full p-3">
          <svg class="w-12 h-12 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
          </svg>
        </div>
      </div>

      <h3 class="text-xl font-semibold text-center text-gray-800 mb-4">Thank You for Your Purchase!</h3>

      <div class="bg-gray-50 rounded-lg p-4 mb-6">
        <div class="flex items-center border-b border-gray-200 pb-4 mb-4">
          <div class="w-16 h-16 overflow-hidden rounded-lg mr-4">
            <img src="{{ purchase.plant.image.url }}" alt="{{ purchase.plant.name }}" class="w-full h-full object-cover">
          </div>
          <div>
            <h4 class="font-medium text-gray-800">{{ purchase.plant.name }}</h4>
            <div class="flex items-center space-x-2 text-gray-600">
              <p>₹{{ purchase.plant.price }} x {{ purchase.quantity }}</p>
              <p class="font-medium">₹{{ purchase.total_price }}</p>
            </div>
          </div>
        </div>

        <div class="space-y-2 text-sm">
          <p><span class="font-medium">Order Date:</span> {{ purchase.purchase_date|date:"F j, Y, g:i a" }}</p>
          <p><span class="font-medium">Status:</span>
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
              {% if purchase.status == 'pending' %}bg-yellow-100 text-yellow-800
              {% elif purchase.status == 'processing' %}bg-blue-100 text-blue-800
              {% elif purchase.status == 'shipped' %}bg-purple-100 text-purple-800
              {% elif purchase.status == 'delivered' %}bg-green-100 text-green-800
              {% else %}bg-red-100 text-red-800{% endif %}">
              {{ purchase.get_status_display }}
            </span>
          </p>
          <p><span class="font-medium">Seller:</span> {{ purchase.plant.seller.username }}</p>
          <p><span class="font-medium">Shipping Address:</span> {{ purchase.shipping_address }}</p>
          <p><span class="font-medium">Contact Phone:</span> {{ purchase.contact_phone }}</p>
        </div>
      </div>

      <div class="text-center space-y-4">
        <p class="text-gray-600">The seller will contact you soon regarding your purchase.</p>
        <div class="flex justify-center space-x-4">
          <a href="{% url 'my_purchases' %}" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition duration-300">
            View My Purchases
          </a>
          <a href="{% url 'market_home' %}" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition duration-300">
            Back to Market
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
